- name: tao vlan
  host: localhost
  connection: local
  gather_facts: no

  tasks:
    - name: create vlan
      debug: msg="dang tao vlan"
      ios_config:
        lines: vlan 10

    - name: Create vlan
      ios_vlan:
        vlan_id: 100
        name: test-vlan
        state: present

    - name: Add interfaces to VLAN
      ios_vlan:
        vlan_id: 100
        interfaces:
          - GigabitEthernet0/0
          - GigabitEthernet0/1

    - name: Check if interfaces is assigned to VLAN
      ios_vlan:
        vlan_id: 100
        associated_interfaces:
          - GigabitEthernet0/0
          - GigabitEthernet0/1

    - name: Delete vlan
      ios_vlan:
        vlan_id: 100
        state: absent

    - name: show vlan
      ios_command:
        commnads: show vlan
